# Разработка frontend части проекта "IT-Alligator"

## Содержание

1. Выбор стека для разработки
2. Выбор цветовых палитр, разработка макетов и логотипов.
3. Составление UserStory.
4. Разработка UI и UX.
5. Разработка API.
6. Создание Docker контейнера и отлаживание интегарции с сервером.
7. Deploy на виртуальной машине.

#### Выбор стека для разработки

При выборе используемых технологий мы опирались на требования заказчика и личные предпочтения. В требованиях заказчика содержалось использование языка TypeScript и библиотеки React. Для разработки макетов и логотипов использовалось приложение Figma. В качестве UI шаблонов мы использовались библиотеки MUI и MUI-Icons. До момента интеграции с серверной частью реализация и отлаживание запросов проводились на локальном сервере, развернутом при помощи библиотеки json-server. Все запросы реализованы посредством библиотеки axios. Для создания адаптивных и валидируемых форм логина и регистрации задействована библиотека react-hook-form. Для работы с контекстом использовалась библиотека mobx.

#### Выбор цветовых палитр, разработка макетов и логотипов.

По данному пункту у заказчика не было никаких пожеланий и ограничений, поэтому мы ориентировались только на личные предпочтения. Основными цветами для нашего приложения были выбраны синий и зеленый в различных оттенках.
Далее последовала разработка прототипных макетов. Их главной задачей было отобразить основные функциональные элементы нашего приложения и определить компоненты MUI, необходимые для разработки, не ориентируясь на UI.

Главная страница:
![прототип главной страницы](/develop_items/main_page_mvp.png)

Страница конкретного мероприятия:
![прототип страницы мероприятия](/develop_items/event_page_mvp.png)

Страница регистрации:
![прототип страницы регистрации](/develop_items/sign_up_mvp.png)

Модальное окно входа:
![прототип модального окна входа](/develop_items/login_mvp.png)

После создания прототипных макетов были разработаны итоговые макеты. Их целью было отобразить то, как мы представляем итоговый продукт с точки зрения UI и UX и отобразить все функциональные элементы и наши точки роста, которые мы потенциально хотели бы отобразить. Но данные макеты являлись лишь рекомендуемой целью, на которую стоит ориентироваться. В процессе разработки некоторые компоненты были перестроены либо же исключены по различным причинам, но также было добавлено несколько новых компонентов.

Главная страница:
![прототип главной страницы](/develop_items/main_page.jpg)

Страница конкретного мероприятия:
![прототип страницы мероприятия](/develop_items/event_page.jpg)

Страница регистрации:
![прототип страницы регистрации](/develop_items/sign_up.jpg)

Модальное окно входа:
![прототип модального окна входа](/develop_items/login.png)

На этой же стадии разработки было создано лого нашего приложения:

![логотип](</develop_items/%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%B4%D0%B8%D0%BB%20(1)%201.svg>)

#### Составление UserStory

Для определения функциональных возможностей приложения после создания макетов началась разработка UserStories. Они представляют из себя различные сценарии по взаимодействию пользователя с приложением. UserStory внесли огромный вклад на стартовых этапах разработки, но по итогу были представлены не в полном объеме и не описывают всех возможностей нашего прототипа, так как их главной целью с точки зрения разработки является оптимизация и ускорение процесса. И на ранних стадиях данная цель выполнялась, но с ростом опыта и количества созданных элементов данная концепцпия утратила свою эффективность, поэтому было решено от нее отказаться.

**_UserStory_**

---

История №1: Отображение карточек мероприятий

-Как пользователь

-Я хочу видеть краткую информацию о конкретном IT мероприятии на главной странице сайта

Чтобы я мог просмотреть дату, место, название и формат мероприятия

Сценарий: Получена информация о мероприятии

Дано: Информация о мероприятии корректна

Когда она получена

Тогда создана новая карточка мероприятия на главной   странице

---

История №2: Список с карточками мероприятий

-Как пользователь

-Я хочу видеть информацию сразу о нескольких мероприятиях на главной странице

-Чтобы я мог просматривать и подбирать самое подходящее под мои цели среди нескольких мероприятий

Сценарий: Отображение списка мероприятий

Дано: Информация о мероприятиях корректна

Когда открыта главная страница

Тогда существует список карточек мероприятий на главной странице

---

История №3: Переход на страницу конкретного мероприятия

-Как пользователь

-Я хочу иметь возможность просмотреть полную информацию о конкретном мероприятии

-Чтобы я мог более детально изучить мероприятие

Сценарий: Пользователь кликнул на название конкретного мероприятия в карточке мероприятия на главной странице

Дано: клик обработан, ответ от сервера валидный

Когда информация о мероприятии с сервера загружена

Тогда происходит переход на страницу конкретного мероприятия

Сценарий: Пользователь кликнул на название конкретного мероприятия в карточке мероприятия на главной странице

Дано: клик обработан, ответ от сервера невалидный

Когда получен невалидный ответ от сервера

Тогда появляется модальное окно с ошибкой

---

История №4: Меню с переключением между избранными и всеми карточками

-Как пользователь

-Я хочу иметь возможность просматривать как все мероприятия, так и мероприятия, которые я отметил «избранными»

-Чтобы я мог как изучать новые для себя мероприятия, так и просматривать те, что заинтересовали меня ранее

Сценарий: Отображение меню с вариантами отображения карточек

Дано: Список с карточками мероприятий

Когда открыта главная страница

Тогда над списком существует меню с двумя полями, «избранное» и «все»

---

История №5: Выпадающий список для изменения варианта сортировки списка карточек

-Как пользователь

-Я хочу иметь возможность изменять вариант сортировки карточек в списке мероприятий

-Чтобы я мог изучать мероприятия как в порядке даты, так и в порядке предложенных мне рекомендаций

Сценарий: Отображение выпадающего списка с вариантами сортировки отображения карточек

Дано: Список с карточками мероприятий

Когда открыта главная страница

Тогда при нажатии на пункты «все» или «рекомендованные» (в зависимости от выбранного в данный момент) в меню над списком, должен появляться выпадающий список с вариантами сортировки списка карточек

---

История №6: Сортировка карточек в списке в зависимости от выбора пользователя

-Как пользователь

-Я хочу иметь возможность изменить порядок отображения карточек мероприятий на сайте

-Чтобы я мог просматривать мероприятия как в произвольном порядке, так и в порядке предложенных мне рекомендаций

Сценарий: Изменение варианта отображения карточек с «все» на «рекомендуемые»

Дано: Пользователь кликнул по ячейке «рекомендуемые» в выпадающем списке для сортировки карточек мероприятий

Когда клик обработан

Тогда карточки в списке отсортированы в порядке, обусловленном рекомендациями

Сценарий: Изменение варианта отображения карточек с «рекомендуемые» на «все»

Дано: Пользователь кликнул по ячейке «все» в выпадающем списке для сортировки карточек мероприятий

Когда клик обработан

Тогда карточки в списке отсортированы в порядке даты (сначала ближайшие)

---

История №7: Шапка сайта

-Как пользователь

-Я хочу меню в верхней части каждой страницы

-Чтобы я мог быстро переходить на главную или авторизовываться

Сценарий: Существование главного меню

Дано: Открыта любая страница приложения

Когда Пользователь находится в начале каждой страницы

Тогда существует меню сверху

---

История №8: Функциональное лого и название сайта

-Как пользователь

-Я хочу иметь лого и название в левой части главного меню

-Чтобы я мог быстро переходить на главную или авторизовываться

Сценарий: Существование лого и названия сайта

Дано: Открыта любая страница приложения

Когда Пользователь находится в начале каждой страницы

Тогда В главном меню отображается лого и название сайта

Сценарий: Нажатие на лого или название сайта

Дано: Открыта любая страница приложения, отличная от главной

Когда Пользователь находится в начале страницы и нажимает в главном меню на лого или название сайта

Тогда происходит переход на главную

Сценарий: Нажатие на лого или название сайта на главной

Дано: Открыта главная страница приложения

Когда Пользователь находится в начале страницы и нажимает в главном меню на лого или название сайта

Тогда ничего не происходит

---

История №9: Кнопка регистрации

-Как пользователь

-Я хочу иметь возможность зарегистрироваться на сайте

-Чтобы иметь возможность получить индивидуальные рекомендации по подбору мероприятий

Сценарий: Существование кнопки регистрации

Дано: Открыта любая страница приложения

Когда Пользователь находится в начале каждой страницы и пользователь не авторизован

Тогда В главном меню справа отображается кнопка регистрации

Сценарий: Нажатие на кнопку регистрации

Дано: Открыта любая страница приложения

Когда Пользователь находится в начале каждой страницы и пользователь не авторизован, и он кликает по кнопке регистрации

Тогда происходит переход на страницу с регистрацией

---

История №10: Кнопка входа

-Как пользователь

-Я хочу авторизоваться на сайте

-Чтобы иметь возможность посмотреть индивидуальные рекомендации по подбору мероприятий

Сценарий: Существование кнопки входа

Дано: Открыта любая страница приложения

Когда Пользователь находится в начале каждой страницы и пользователь не авторизован

Тогда В главном меню справа отображается кнопка входа

Сценарий: Нажатие на кнопку входа

Дано: Открыта любая страница приложения

Когда Пользователь находится в начале каждой страницы и пользователь не авторизован, и он кликает по кнопке входа

Тогда появляется модальное окно авторизации

---

История №11: Пагинация

-Как пользователь

-Я хочу динамически переключаться между страницами в списке карточек мероприятий

-Чтобы на странице одновременно находилось фиксированное количество карточек мероприятий

Сценарий: Существование пагинации

Дано: Открыта главная страница приложения

Когда Пользователь находится внизу страницы

Тогда Под списком карточек находится функциональное поле с номерами страниц этого списка

Сценарий: Нажатие на номер определенной страницы в поле пагинации

Дано: Открыта главная страница приложения, пользователь промотал в самый низ

Когда Пользователь нажимает на определенный номер страницы в поле пагинации

Тогда карточки в списке заменяются на новые с выбранной страницы, количество карточек не меняется

---

История №12: Окно авторизации

-Как пользователь

-Я хочу иметь возможность быстро авторизоваться на сайте

- Чтобы иметь возможность посмотреть индивидуальные рекомендации по подбору мероприятий

Сценарий: Существование окна авторизации

Дано: Открыто приложение, пользователь не авторизован

Когда Пользователь нажимает кнопку «вход»

Тогда появляется модальное окно авторизации, с полями для ввода логина и пароля, кнопками войти и отмена

---

История №13: Окно авторизации, логин и пароль

-Как пользователь

-Я хочу иметь возможность быстро авторизоваться на сайте

- Чтобы иметь возможность посмотреть индивидуальные рекомендации по подбору мероприятий

Сценарий: Введение логина и пароля

Дано: Открыто модальное окно авторизации

Когда Пользователь кликает на поле логин или пароль

Тогда поля становятся изменяемыми и пользователь имеет возможность вводить в них данные

Сценарий: Нажатие на кнопку «Войти»

Дано: Открыто модальное окно авторизации

Когда Пользователь кликает на кнопку Войти

Тогда отправляется запрос на сервер, в случае успешного ответа возвращаемся на главную страницу, в главном меню кнопки «вход» и «регистрация» заменяются на username. В случае негативного ответа от сервера – появляется надпись о том, что данные не верны.

Сценарий: Нажатие на кнопку «Отмена»

Дано: Открыто модальное окно авторизации

Когда Пользователь кликает на кнопку «Отмена»

Тогда окно закрывается, остается таже страница, на которой пользователь находился до открытия окна

---

История №14: страница регистрации

-Как пользователь

-Я хочу иметь возможность зарегистрироваться на сайте

- Чтобы иметь возможность получить индивидуальные рекомендации по подбору мероприятий

Сценарий: Существование страницы регистрации

Дано: Открыто приложение, пользователь не авторизован, находится на странице, отличной от страницы регистрации

Когда Пользователь нажимает кнопку «регистрация»

Тогда происходит переход на страницу регистрации

---

История №15: форма на странице регистрации

-Как пользователь

-Я хочу иметь возможность зарегистрироваться на сайте

- Чтобы иметь возможность получить индивидуальные рекомендации по подбору мероприятий

Сценарий: Существование формы на странице регистрации

Дано: Пользователь переходит на страницу регистрации

Когда Страница загружена

Тогда на странице существует форма с полями для ввода: имя, фамилия, мобильный телефон, логин, пароль, подтверждение пароля, и кнопками «Продолжить и отмена».

---

История №16: Форма регистрации, поля ввода

-Как пользователь

-Я хочу иметь возможность зарегистрироваться на сайте

- Чтобы иметь возможность посмотреть индивидуальные рекомендации по подбору мероприятий

Сценарий: Введение информации в поля для ввода

Дано: Открыто модальное окно авторизации

Когда Пользователь кликает на поля в форме регистрации

Тогда поля становятся изменяемыми и пользователь имеет возможность вводить в них данные

Сценарий: Нажатие на кнопку «Продолжить»

Дано: Открыта страница регистрации, пользователь ввёл данные в поля для ввода в форме регистрации

Когда Пользователь кликает на кнопку «Продолжить»

Тогда информация из полей проверяется на корректность, в случае присутствия некорректной информации в конкретных полях под этими полями появляется надпись с объяснением проблемы. В случае корректности информации отправляется запрос на сервер для проверки индивидуальности (ключевое поле – логин). Если ответ от сервера отрицательный – появляется надпись внизу формы с просьбой выбрать другой логин, если положительный, продолжается процесс регистрации и открывается окно Анкеты.

Сценарий: Нажатие на кнопку «Отмена»

Дано: Открыта страница регистрации, пользователь видит форму регистрации

Когда Пользователь кликает на кнопку «Отмена»

Тогда пользователь возвращается на главную страницу

---

История №17: Полная информация о мероприятии

-Как пользователь

-Я хочу иметь возможность посмотреть подробную информацию о мероприятии, его целях и организаторах

- Для того чтобы более точно определить, интересно ли мне данное мероприятие

Сценарий: Существование подробного описания мероприятия на странице конкретного мероприятия

Дано: Пользователь находится на странице конкретного мероприятия

Когда всегда

Тогда на странице существует блок с текстом, в котором содержится подробная информация о мероприятии

---

История №18: Краткая информация о мероприятии

-Как пользователь

-Я хочу иметь возможность посмотреть краткую информацию о мероприятии, его направлении, дате и месте

- Для того чтобы определить, подходит мне данное мероприятие или нет

Сценарий: Существование на странице конкретного мероприятия карточки мероприятия с краткой, но главной информацией о нём

Дано: Пользователь находится на странице конкретного мероприятия

Когда всегда

Тогда на странице существует карточка мероприятия, в которой отражены название, дата и время, адрес и форма проведения мероприятия.

---

История №19: Кнопка перехода на сайт мероприятия

-Как пользователь

-Я хочу иметь возможность перейти на сайт конкретного мероприятия

- Для того чтобы получить полный объем информации о мероприятии, предоставленный самими организаторами и иметь возможность зарегистрироваться на мероприятие

Сценарий: Существование кнопки перехода на сайт конкретного мероприятия

Дано: Пользователь находится на странице конкретного мероприятия

Когда у мероприятия существует собственный сайт

Тогда на странице существует кнопка, при нажатии по которой пользователь переходит на собственный сайт конкретного мероприятия

---

История №20: Кнопка "Прошедшие" в меню категорий мероприятий

-Как пользователь

-Я хочу иметь возможность просматривать список прошедших мероприятий на главной странице

- Для того чтобы иметь возможность оценить мероприятия, которые я посетил

Сценарий: Отображение списка прошедших ивентов по нажатию кнопки "Прошедшие"

Дано: Пользователь кликает по кнопке "Прошедшие"

Когда: выбрана любая категория мероприятий, кроме "Прошедшие"

Тогда список мероприятий заполняется прошедшими мероприятиями

Сценарий: Изменение значения актуальной страницы пагинации при нажатии на кнопку "Прошедшие"

Дано: Пользователь кликает по кнопке "Прошедшие"

Когда: выбрана любая категория мероприятий, кроме "Прошедшие"

Тогда актуальная страница пагинации принимает значение равное 1

---

История №21: Информация в футере

-Как пользователь

-Я хочу иметь возможность видеть краткие контакты тех.поддержки на каждой странице

- Для того чтобы иметь возможность связаться с ними по интересующим меня вопросам

Сценарий: Существование футера

Дано: Открыта любая страница приложения

Когда: пользователь проматывает в самый низ страницы

Тогда отрисовывается футер

Сценарий: Существование почты тех.поддержки в футере

Дано: Открыта любая страница приложения

Когда: пользователь проматывает в самый низ страницы и видит футер

Тогда на футере существует информация, содержащая почту тех.поддержки

---

#### Разработка UI и UX.

В ходе разработки были созданы следующие функциональные компоненты:

1.  Хэдер.

- Блок с названием приложения и лого.
- Блок с кнопками регистрации и входа.
- Блок с информацией о пользователе, содержащий выпадающее меню: - Кнопка для прохождения Анкеты. - Кнопка выхода.

2.  Футер.

- Блок с информацией о разработчиках и контактах для обратной связи

3.  Модальное окно входа.

- Валидируемые поля для ввода пароля и email'a.
- Блок кнопок для закрытия окна либо продолжения аутентификации.

4.  Алёрт для отображения ошибок и другой необходимой информации.

- ![алёрт](/develop_items/alert.PNG)

5.  Главная страница:

- Блок для приветствия с картинкой.
- Меню для переключения между категориями мероприятий.
- Поисковая строка.
- Список мероприятий.
- Пагинация.
- Карточки для мероприятий: - Карточка актуального мероприятия. - Карточка прошедшего мероприятия.

6.  Страница конкретного мероприятия:

- Карточка с полной информацией: - Блок с информацией. - Блок с кнопками для сохранения и перехода на сайт мероприятия.
- Текстовый блок с подробным описанием мероприятия (при наличии - на двух языках).

7. Страница регистрации:

- Валидируемые поля для ввода пароля, email'a, телефона, имени и фамилии.
- Блок кнопок для продолжения регистрации или отмены.
- Модальное окно для перехода к анкете или на главную после завершения регистрации.

8. Анкета:

- Список с карточками предлагаемых мероприятий.
- Карточки предлагаемых мероприятий: - Блок с информацией о мероприятии. - Меню выбора оценки мерояприятия пользователем.
- Блок с кнопками для сохранения анкеты либо же сброса.

#### Разработка API

В процессе разработки компонентов создавалось API для взаимодействия клиента с сервером, для предоставления всех требований о запрашиваемой информации.

##### Api:

---

**_POST /auth_api/login_**

Request

```
{
email: string,
password: string
}
```

Response

```
{
accessToken: string,
}
```

---

**_POST /auth_api/registration_**

Request

```
{
email: string,
password: string,
name: string,
lastName:string,
phone: string,
}
```

Response

```
{
accessToken: string,
}
```

---

**GET /user*api/get_user***

Request

```
WWW-Authenticate: <Bearer <token>>
{
}
```

Response

```
{
name: string,
lastName: string,
anketa_passed: boolean, (true если анкета пройдена)
}
```

---

**_POST /user_api/patch_saved_**

Request

```
WWW-Authenticate: <Bearer <token>>
{
id:string,
append:boolean, (true если добавлять)
}
```

---

**_POST /user_api/patch_visited_**

Request

```
WWW-Authenticate: <Bearer <token>>
{
id:string,
append:boolean, (true если добавлять)
}
```

---

**_POST /user_api/patch_rate_**

Request

```
WWW-Authenticate: <Bearer <token>>
{
id:string,
rate:int,
}
```

---

**_POST /user_api/anketa_post_**

Request

```
WWW-Authenticate: <Bearer <token>>
{
anketa_priority: [..., { id : string, priority : int }, ...]
}
```

---

**_GET /user_api/get_anketa_**

Request

```
{
[
...
{ id:string, title:string, image:string, form:string, info:string, organizer:string}
...
]
}
```

---

**_GET /events_api/get_actual query(\_page:int, \_limit:int, \_search:string)_**

Request

```
WWW-Authenticate: <Bearer <token>>
(если пользователь не авторизован - этого хедера не будет)
```

Response

```
x-total-count : количество всех актуальных мероприятий
{
[
...
{
id: string,
title: string,
date: string,
image: string,
form: string(онлайн/оффлайн),
save: boolean  (если пользователь не авторизован - false),
}
...
]
}
```

---

**_GET /events_api/get_past query(\_page:int, \_limit:int, \_search:string)_**

Request

```
WWW-Authenticate: <Bearer <token>> (если пользователь не авторизован - этого хедера не будет)

x-total-count : количество всех прошедших мероприятий
{
[
...
{
id: string,
title: string,
date: string,
image: string,
form: string(онлайн/оффлайн),
visited: boolean  (если пользователь не авторизован - false),
rate: int (если не авторизован - 0)
}
...
]
}
```

**_GET /events_api/get_recomended query(\_page:int, \_limit:int, \_search:string)_**

Request

```
WWW-Authenticate: <Bearer <token>>
```

Response

```
x-total-count : количество всех актуальных мероприятий
{
[
...
{
id: string,
title: string,
date: string,
image: string,
form: string(онлайн/оффлайн),
save: boolean,
}
...
]
}
```

---

**_GET /events_api/get_saved query(\_page:int, \_limit:int, \_search:string)_**

Request

```
WWW-Authenticate: <Bearer <token>>
```

Response

```
x-total-count : количество всех мероприятий, которые сохранил пользователь
{
[
...
{
id: string,
title: string,
date: string,
image: string,
form: string(онлайн/оффлайн),
save: boolean,
}
...
]
}
```

---

**_GET /events_api/get_event/id (id конкретного мероприятия)_**

Response

```
{
id: string,
title: string,
date: string,
image: string,
form: string (онлайн/оффлайн),
info: string (информация о мероприятии),
location: string,
org: string (организатор),
source: string (ссылка на сайт),
}
```

---

#### Создание Docker контейнера и отлаживание интеграции с сервером.

В процессе разработки компонентов и API все запросы тестировались на локальном сервере, и для интеграции всех сервисов на локальной машине был собран образ, а затем и докер контейнер для frontEnd части. Благодаря подробному API, интеграция прошла успешно и с минимальным количеством багов, в основном связанными с некоторыми неоднозначными особенностями работы FastApi.

#### Deploy на виртуальной машине

На виртуальной машине успешно собрался билд frontEnd части и был запущен по адресу: http://5.159.102.198/
